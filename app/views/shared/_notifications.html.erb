<% if current_user %>
  <div class="nav-item dropdown" data-controller = "notifications">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <button type="button" class="btn-mint">
        Notifications <span class="badge badge-light"><%= @unread.count >= 9 ? "9+" : @unread.count %></span>
      </button>
    </a>
    <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="navbarDropdown" data-notifications-target="notifications">
      <% @unread.each do |notification| %>
        <%= render 'shared/notification', notification: notification %>
      <% end %>
      <% if @read.count > 0 && @unread.count > 0 %>
        <li>
          <hr class="dropdown-divider">
        </li>
      <% elsif @read.count + @unread.count == 0 %>
        <li class="dropdown-item">
          No notifications yet.
        </li>
      <% end %>
      <% @read.each do |notification| %>
        <%= render 'shared/notification', notification: notification %>
      <% end %>
    </ul>
  </div>
<% end %>
